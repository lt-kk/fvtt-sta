<form class="sta-body" autocomplete="off">

  <section class="icon">
    <img src="{{sta.img}}" data-edit="img" title="{{sta.name}}" />
  </section>

  <section class="summary">
    <label class="property name">
      <span class="label">{{localize "sta.starship.name"}}</span>
      <input name="name" type="text" value="{{sta.name}}" tabindex="1" />
    </label>
    {{> (tplPath "template/RichTextSection.hbs") sta=sta h="h2" field="notes" title="sta.notes._plural" }}

    <div class="scale-selection roll-d6">
      <label>{{localize "sta.challenge._singular"}}</label>
      {{#range 3 settings.maxD6}}
        <a class="control roll scale-pill" data-roll="challenge" data-value="{{i}}">{{i}}</a>
      {{/range}}
    </div>
    <div class="scale-selection roll-d20">
      <label>{{localize "sta.task._singular"}}</label>
      <a class="control roll scale-pill fatal" data-roll="task" data-value="1">1</a>
      <a class="control roll scale-pill success" data-roll="task" data-value="2">2</a>
      <a class="control roll scale-pill info" data-roll="task" data-value="3">3</a>
      <a class="control roll scale-pill warn" data-roll="task" data-value="4">4</a>
      <a class="control roll scale-pill error" data-roll="task" data-value="5">5</a>
    </div>
  </section>

  <section class="settings  border-right">
    <h1 class="reverse">{{localize "sta.extendedtask.settings"}}</h1>

    <div class="property type">
      <h2>{{localize "sta.extendedtask.type"}}</h2>
      <div class="scale-value">
        {{#each sta.typePills}}
          <label class="scale-pill single {{status}}">
            <span class="label">{{name}}</span>
            <input name="system.type" type="radio" value="{{value}}" {{#if checked}}checked="checked"{{/if}} />
          </label>
        {{/each}}
      </div>
    </div>

    <div class="property leader">
      <h2>{{localize "sta.extendedtask.leader"}}</h2>
      <div class="scale-value">
        {{#each sta.leaderPills}}
          <label class="scale-pill single {{status}}">
            <span class="label">{{name}}</span>
            <input name="system.leader" type="radio" value="{{value}}" {{#if checked}}checked="checked"{{/if}} />
          </label>
        {{/each}}
      </div>
    </div>

    <div class="property discipline">
      <h2>{{localize "sta.discipline._singular"}}</h2>
      <div class="scale-value">
        {{#each sta.disciplinePills}}
          <label class="scale-pill single {{status}}">
            <span class="label">{{name}}</span>
            <input name="system.discipline" type="radio" value="{{value}}" {{#if checked}}checked="checked"{{/if}} />
          </label>
        {{/each}}
      </div>
    </div>

    <div class="property difficulty">
      <h2>{{localize "sta.extendedtask.difficulty"}}</h2>
      <div class="scale-value">
        {{#range settings.extendedtask.difficulty.min settings.extendedtask.difficulty.max}}
          <label class="scale-pill">
            <span class="label">{{i}}</span>
            <input name="system.difficulty" type="radio" value="{{i}}" data-dtype="Number"
                   {{#if (eq ../sta.difficulty i)}}checked="checked"{{/if}} />
          </label>
        {{/range}}
      </div>
    </div>

    <div class="property work">
      <h2>{{localize "sta.extendedtask.work"}}</h2>
      <div class="scale-value">
        {{#range settings.extendedtask.work.min settings.extendedtask.work.max}}
          <label class="scale-pill">
            <span class="label">{{i}}</span>
            <input name="system.work.max" type="radio" value="{{i}}" data-dtype="Number"
                   {{#if (eq ../sta.work.max i)}}checked="checked"{{/if}} />
          </label>
        {{/range}}
      </div>
    </div>

    <div class="property magnitude">
      <h2>{{localize "sta.extendedtask.magnitude"}}</h2>
      <div class="scale-value">
        {{#range settings.extendedtask.magnitude.min settings.extendedtask.magnitude.max}}
          <label class="scale-pill">
            <span class="label">{{i}}</span>
            <input name="system.magnitude" type="radio" value="{{i}}" data-dtype="Number"
                   {{#if (eq ../sta.magnitude i)}}checked="checked"{{/if}} />
          </label>
        {{/range}}
      </div>
    </div>


    <div class="property resistance">
      <h2>{{localize "sta.extendedtask.resistance"}}</h2>
      <div class="scale-value">
        {{#range settings.extendedtask.resistance.min settings.extendedtask.resistance.max}}
          <label class="scale-pill">
            <span class="label">{{i}}</span>
            <input name="system.resistance" type="radio" value="{{i}}" data-dtype="Number"
                   {{#if (eq ../sta.resistance i)}}checked="checked"{{/if}} />
          </label>
        {{/range}}
      </div>
    </div>
  </section>

  <section class="progress border-left">
    <h1>{{localize "sta.extendedtask.progress"}}</h1>
    <section class="players">
      <h2>{{localize "sta.extendedtask.players"}}</h2>

      <section class="work">
        <h3>{{localize "sta.extendedtask.work"}}</h3>
        <div class="scale-value">
          {{#range 0 sta.work.max}}
            <label class="scale-pill {{status}}">
              <span class="label">{{i}}</span>
              <input name="system.work.value" type="radio" value="{{i}}" data-dtype="Number"
                     {{#if (eq ../sta.work.value i)}}checked="checked"{{/if}} />
            </label>
          {{/range}}
        </div>
      </section>

      <section class="taskprogress border-left">
        {{> (tplPath "item/ItemList") type="taskprogress" template="item/taskprogress/TaskProgressListItem"
          list=sta.taskprogress actor=sta}}
      </section>

    </section>

    <section class="opposition">
      <h2>{{localize "sta.extendedtask.opposition"}}</h2>

      <section class="work">
        <h3>{{localize "sta.extendedtask.work"}}</h3>
        <div class="scale-value">
        {{#range 0 sta.work.max}}
          <label class="scale-pill {{status}}">
            <span class="label">{{i}}</span>
            <input name="system.opposition.work" type="radio" value="{{i}}" data-dtype="Number"
                   {{#if (eq ../sta.opposition.work i)}}checked="checked"{{/if}} />
          </label>
        {{/range}}
        </div>
      </section>

      <section class="taskprogress border-left">
        {{> (tplPath "item/ItemList") type="taskprogress" template="item/taskprogress/TaskProgressListItem"
          list=sta.opposition.progress actor=sta}}
      </section>
    </section>
  </section>


</form>
